%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% -- Paket für die Erstellung des Buchs zum Rom-Seminar
%% -- Rom-Buch.sty
%% -- Stand: 2023/02/07
%% -- Literatur: Der LaTeX-Begleiter, A.4, Seite 910 ff
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Kenndaten
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\NeedsTeXFormat{LaTeX2e}											
\ProvidesPackage{Rom-Buch}
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% -- Initialisierungen
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{ifthen, iftex}
	\provideboolean{Rom2Buch}
	\provideboolean{Rom2Online}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% -- Deklaration von Optionen
%% -- Wir verwenden KOMA-Script
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\DeclareOption*{\expandafter\PassOptionsToClass\expandafter{\CurrentOption}{scrartcl}}

\DeclareOption{Rom2Buch}{\setboolean{Rom2Buch}{true}} 
\DeclareOption{Rom2Online}{\setboolean{Rom2Buch}{false}} 

\ifthenelse{\boolean{Rom2Buch}}
	{\KOMAoptions{open = right}} % für Buch
	{\KOMAoptions{open = any}}	 % für online

\ProcessOptions\relax

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Laden von Paketen 
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\RequirePackage{scrhack}
\RequirePackage{../preamble/Rom-Layout}
\RequirePackage{../preamble/Rom-BibLaTeX}


%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Abarbeiten
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%% -- LuaLaTeX oder PDFLaTeX
\ifluatex
    \RequirePackage{libertinus-otf}
	\unimathsetup{partial=upright}
    \unimathsetup{math-style=ISO}
    \setmathfont[range=\mathcal, Scale=MatchUppercase]{LatinModernMath-Regular}
   \setmathfont[range={\mathfrak},Scale=MatchUppercase]{LatinModernMath-Regular}
\else
	\RequirePackage[T1]{fontenc}	
	\RequirePackage{libertinus}	
\fi

%% -- Sprache und Anführungszeichen richtig
%% -- Andere Sprache via \selectlanguage{sprache}; siehe Manual
%% -- 
\RequirePackage[%
	,english
	,italian
	,french
	,main=ngerman]{babel} 

%% -- Richtige Trennung
%% --
\babelprovide[hyphenrules=ngerman-x-latest]{ngerman}

%% -- Hochkomma: Eingabe mittels \enquote{text}; dann wird alles richtig
%% --
\RequirePackage[%
	,autostyle
	,italian = guillemets
	,french  = guillemets
	,german  = guillemets
	,english = american]{csquotes}

%% --	
\let\digamma\relax
\RequirePackage{%
	,amsmath
	,amssymb
	,amsthm} 
\RequirePackage[tbtags]{mathtools}	

%% -- Querverweise und hyperref
%% -- 
\usepackage[nospace]{varioref}	% \vref
% -----------------------------------------------------------
\RequirePackage[%  
	,breaklinks= true                                                     
	]{hyperref}          		%% \href{xterner-Link}{Bezeichnung-in-Doku}
% -----------------------------------------------------------
\usepackage{cleveref}

%% -- Abkürzungen
%% --
\RequirePackage{../preamble/Rom-Abkuerzungen}

\RequirePackage{../preamble/Rom-Mathematik}